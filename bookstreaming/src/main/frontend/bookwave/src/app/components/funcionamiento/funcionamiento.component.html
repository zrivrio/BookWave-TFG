<div class="p-4 bg-white rounded-2xl shadow-lg border border-[#ADC6E5]">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="flex justify-center items-center h-32">
    <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-[#1E0f75]"></div>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="text-center py-6 text-red-500 font-medium">
    {{ error }}
  </div>

  <!-- Not Logged In State -->
  <div *ngIf="!isLoggedIn && !isLoading" class="text-center py-6">
    <p class="text-gray-600 mb-4 text-sm">Inicia sesión para ver tu progreso de lectura</p>
    <a routerLink="/login" 
       class="inline-block px-6 py-2 bg-[#1E0f75] text-white rounded-lg hover:bg-[#150b5a] transition-colors">
      Iniciar Sesión
    </a>
  </div>

  <!-- Logged In State -->
  <div *ngIf="isLoggedIn && !isLoading && !error" class="flex items-center space-x-4">
    <img [src]="book.cover || 'assets/images/placeholder.png'" 
         [alt]="book.title || 'Book cover'" 
         class="w-16 h-24 object-cover rounded-lg border border-gray-200 transition-transform hover:scale-105" />
    <div class="flex-1">
      <h4 class="text-sm font-semibold text-gray-800 truncate">{{ book.title || 'Untitled' }}</h4>
      <p class="text-xs text-gray-500">{{ book.author || 'Autor desconocido' }}</p>
      <div class="mt-2">
        <div class="h-2 bg-gray-200 rounded-full">
          <div class="h-2 bg-[#1E0f75] rounded-full transition-all duration-300" 
               [style.width.%]="getProgressPercentage()"></div>
        </div>
        <p class="text-xs text-gray-600 mt-1">{{ getProgressPercentage() }}% leído</p>
      </div>
    </div>
  </div>
</div>
