<div class="max-w-7xl mx-auto p-4 md:p-8">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-[#1E0f75]">Control de Carritos</h2>
    </div>

    <!-- Estado de carga y error -->
    <div *ngIf="loading" class="mb-4 p-4 bg-blue-50 text-blue-700 rounded-lg">
        Cargando carritos...
    </div>
    <div *ngIf="error" class="mb-4 p-4 bg-red-50 text-red-700 rounded-lg">
        {{error}}
    </div>

    <!-- Tabla de carritos -->
    <div class="bg-white rounded-xl shadow-sm border border-[#F4F4F4] overflow-x-auto">
        <table class="w-full">
            <thead class="bg-[#F8FAFC] border-b border-[#E0E9F5]">
                <tr>
                    <th class="px-6 py-3 text-left text-sm font-medium text-[#666666]">ID</th>
                    <th class="px-6 py-3 text-left text-sm font-medium text-[#666666]">Usuario</th>
                    <th class="px-6 py-3 text-left text-sm font-medium text-[#666666]">Suscripción</th>
                    <th class="px-6 py-3 text-left text-sm font-medium text-[#666666]">Estado</th>
                    <th class="px-6 py-3 text-left text-sm font-medium text-[#666666]">Fecha de Creación</th>
                    <th class="px-6 py-3 text-right text-sm font-medium text-[#666666]">Acciones</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-[#E0E9F5]">
                <tr *ngFor="let cart of carts" class="hover:bg-[#F8FAFC]">
                    <td class="px-6 py-4 text-sm text-[#2A2A2A]">{{cart.id}}</td>
                    <td class="px-6 py-4 text-sm text-[#2A2A2A]">{{cart.user.username || 'N/A'}}</td>
                    <td class="px-6 py-4 text-sm text-[#2A2A2A]">{{cart.selectedSubscription}}</td>
                    <td class="px-6 py-4 text-sm text-[#2A2A2A]">{{cart.status}}</td>
                    <td class="px-6 py-4 text-sm text-[#2A2A2A]">{{cart.createdAt | date:'short'}}</td>
                    <td class="px-6 py-4 text-right">
                        <button class="px-3 py-1 text-red-600 hover:bg-red-50 rounded-lg transition-colors"
                            (click)="deleteCart(cart.id)">
                            Eliminar
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div *ngIf="carts.length === 0" class="p-6 text-center text-[#666666]">
            No se encontraron carritos
        </div>
    </div>
</div>