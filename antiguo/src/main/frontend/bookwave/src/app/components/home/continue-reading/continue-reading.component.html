<!-- Loading State -->
<div *ngIf="isLoading" class="flex justify-center items-center h-32 text-gray-dark">
  <p>Cargando...</p>
</div>

<!-- Error State -->
<div *ngIf="error" class="text-center py-6 text-red-500">
  {{ error }}
</div>

<!-- Books in Progress -->
<div *ngIf="!isLoading && !error">
  <div *ngIf="inProgressBooks.length > 0" class="space-y-4 overflow-y-auto max-h-64 pr-2">
    <div *ngFor="let progress of inProgressBooks" class="flex items-center space-x-4 p-2 bg-[#F8FAFC] rounded-lg shadow-sm">
      <img [src]="progress?.book?.cover || 'assets/images/placeholder.png'" 
           [alt]="progress?.book?.title || 'Book cover'" 
           class="w-16 h-24 object-cover rounded-lg border border-gray-200" />
      <div class="flex-1">
        <h4 class="text-sm font-semibold text-gray-800 truncate">{{ progress?.book?.title || 'Untitled' }}</h4>
        <p class="text-xs text-gray-500">{{ progress?.book?.author || 'Autor desconocido' }}</p>
        <div class="mt-2">
          <div class="h-2 bg-gray-200 rounded-full">
            <div class="h-2 bg-[#1E0f75] rounded-full transition-all duration-300" [style.width.%]="progress?.percentageRead || 0"></div>
          </div>
          <p class="text-xs text-gray-600 mt-1">{{ progress?.percentageRead || 0 }}% le√≠do</p>
        </div>
      </div>
    </div>
  </div>

  <!-- No Books in Progress -->
  <div *ngIf="inProgressBooks.length === 0" class="text-center py-6">
    <p class="text-gray-600">No hay libros en progreso.</p>
    <a routerLink="/library" 
       class="inline-block px-6 py-2 mt-4 bg-[#1E0f75] text-white rounded-lg hover:bg-[#150b5a] transition-colors">
      Explorar Biblioteca
    </a>
  </div>
</div>